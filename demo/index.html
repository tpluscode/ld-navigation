<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <script>this.customElements||document.write('<script src="//unpkg.com/document-register-element"><\x2fscript>');</script> 
    <script src="//unpkg.com/built-in-element"></script>
    <script src="../node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js" async></script>
    <script src="demo-app.js" type="module" async></script>

    <link rel="stylesheet" href="../node_modules/github-fork-ribbon-css/gh-fork-ribbon.css" />

    <!-- Start Single Page Apps for GitHub Pages -->
    <script type="text/javascript">
      /////////////////////////////////////////////////////////////////////////
      // Single Page Apps for GitHub Pages
      // https://github.com/rafrex/spa-github-pages
      // Copyright (c) 2016 Rafael Pedicini, licensed under the MIT License
      // ----------------------------------------------------------------------
      // This script checks to see if a redirect is present in the query string
      // and converts it back into the correct url and adds it to the
      // browser's history using window.history.replaceState(...),
      // which won't cause the browser to attempt to load the new url.
      // When the single page app is loaded further down in this file,
      // the correct url will be waiting in the browser's history for
      // the single page app to route accordingly.
      /////////////////////////////////////////////////////////////////////////
      (function(l) {
        if (l.search) {
          var q = {};
          l.search.slice(1).split('&').forEach(function(v) {
            var a = v.split('=');
            q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&');
          });
          if (q.p !== undefined) {
            window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + (q.p || '') +
              (q.q ? ('?' + q.q) : '') +
              l.hash
            );
          }
        }
      }(window.location))
    </script>
    <!-- End Single Page Apps for GitHub Pages -->
</head>
<body>

<demo-app base-url="http://geeky.rest/navigation/v0.5.0"></demo-app>

<a class="github-fork-ribbon" href="http://github.com/tpluscode/ld-navigation" title="Fork me on GitHub">Fork me on GitHub</a>

<script>
  const wrapperElement = document.querySelector('demo-app');

  if (getParameterByName('useHash') !== null) {
    wrapperElement.useHashFragment = true;
  }

  function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
      results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
  }
</script>
</body>
